{"version":3,"file":"ngx-spinner-svc.umd.js","sources":["ng://ngx-spinner-svc/lib/spinner.service.ts","ng://ngx-spinner-svc/lib/spinner.component.ts","ng://ngx-spinner-svc/lib/spinner.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { SpinnerComponent } from './spinner.component';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SpinnerService {\n  private spinnerCache = new Set<SpinnerComponent>();\n  constructor() { }\n\n  _register(spinner: SpinnerComponent): void {\n    this.spinnerCache.add(spinner);\n  }\n\n  _unregister(spinnerToRemove: SpinnerComponent): void {\n    this.spinnerCache.forEach(spinner => {\n      if (spinner === spinnerToRemove) {\n        this.spinnerCache.delete(spinner);\n      }\n    });\n  }\n\n  _unregisterGroup(spinnerGroup: string): void {\n    this.spinnerCache.forEach(spinner => {\n      if (spinner.group === spinnerGroup) {\n        this.spinnerCache.delete(spinner);\n      }\n    });\n  }\n\n  _unregisterAll(): void {\n    this.spinnerCache.clear();\n  }\n\n  show(spinnerName: string): void {\n    this.spinnerCache.forEach(spinner => {\n      if (spinner.name === spinnerName) {\n        spinner.show = true;\n      }\n    });\n  }\n\n  hide(spinnerName: string): void {\n    this.spinnerCache.forEach(spinner => {\n      if (spinner.name === spinnerName) {\n        spinner.show = false;\n      }\n    });\n  }\n\n  showGroup(spinnerGroup: string): void {\n    this.spinnerCache.forEach(spinner => {\n      if (spinner.group === spinnerGroup) {\n        spinner.show = true;\n      }\n    });\n  }\n\n  hideGroup(spinnerGroup: string): void {\n    this.spinnerCache.forEach(spinner => {\n      if (spinner.group === spinnerGroup) {\n        spinner.show = false;\n      }\n    });\n  }\n\n  showAll(): void {\n    this.spinnerCache.forEach(spinner => spinner.show = true);\n  }\n\n  hideAll(): void {\n    this.spinnerCache.forEach(spinner => spinner.show = false);\n  }\n\n  isShowing(spinnerName: string): boolean | undefined {\n    let showing;\n    this.spinnerCache.forEach(spinner => {\n      if (spinner.name === spinnerName) {\n        showing = spinner.show;\n      }\n    });\n    return showing;\n  }\n}\n","import { Component, Input, Output, OnInit, OnDestroy, EventEmitter } from '@angular/core';\nimport { SpinnerService } from './spinner.service';\n\n@Component({\n  // tslint:disable-next-line:component-selector\n  selector: 'spinner',\n  template: `\n    <div *ngIf=\"show\">\n      <img *ngIf=\"loadingImage\" [src]=\"loadingImage\" />\n      <ng-content></ng-content>\n    </div>\n  `,\n  styles: []\n})\nexport class SpinnerComponent implements OnInit, OnDestroy {\n  constructor(private spinnerService: SpinnerService) {}\n\n  @Input() name: string;\n  @Input() group: string;\n  @Input() loadingImage: string;\n\n  private isShowing = false;\n\n  @Output() showChange = new EventEmitter();\n\n  @Input()\n  get show(): boolean {\n    return this.isShowing;\n  }\n\n  set show(val: boolean) {\n    this.isShowing = val;\n    this.showChange.emit(this.isShowing);\n  }\n\n  ngOnInit(): void {\n    if (!this.name) { throw new Error('Spinner must have a \\'name\\' attribute.'); }\n\n    this.spinnerService._register(this);\n  }\n\n  ngOnDestroy(): void {\n    this.spinnerService._unregister(this);\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { SpinnerComponent } from './spinner.component';\nimport { SpinnerService } from './spinner.service';\n\n@NgModule({\n  declarations: [SpinnerComponent],\n  imports: [CommonModule],\n  exports: [SpinnerComponent],\n  providers: [SpinnerService]\n})\nexport class SpinnerModule { }\n"],"names":["Injectable","EventEmitter","Component","Input","Output","NgModule","CommonModule"],"mappings":"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"}